<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>Towards a Structured Evaluation Methodlogy for Artificial Intelligence Technology (SEMAIT) Script Example • mizr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="Towards a Structured Evaluation Methodlogy for Artificial Intelligence Technology (SEMAIT) Script Example">
<meta property="og:description" content="mizr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    

    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">mizr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="">2023.03.13</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" data-bs-toggle="dropdown" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/mizr_plot_library.html">MIg analyZeR (mizr) Plot Library Requirements</a>
    </li>
    <li>
      <a href="../articles/mizr_readme_rendering.html">MIg analyZeR (mizr) README Rendering</a>
    </li>
    <li>
      <a href="../articles/semait_analysis_sdms_documented.html">Towards a Structured Evaluation Methodlogy for Artificial Intelligence Technology (SEMAIT) Script Example</a>
    </li>
  </ul>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right"></ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>Towards a Structured Evaluation Methodlogy for
Artificial Intelligence Technology (SEMAIT) Script Example</h1>
                        <h4 data-toc-skip class="author">Peter Fontana,
Yooyoung Lee, and Jim Filliben</h4>
            
            <h4 data-toc-skip class="date">2023-04-05</h4>
      
      
      <div class="hidden name"><code>semait_analysis_sdms_documented.Rmd</code></div>

    </div>

    
    
<div class="section level2">
<h2 id="introduction">Introduction<a class="anchor" aria-label="anchor" href="#introduction"></a>
</h2>
<p>In this R Markdown File (Rmd) we provide the complete script to run
the code of our Structured Evaluation Methology for Artificial
Intelligence Technology (SEMAIT).</p>
<p>We reiterate that we are working <strong>towards</strong> a
Structured Evaluation Methology for Artificial Intelligence Technology.
Nevertheless, we believe that the code and plots, in this
push-button-script format can provide a set of tools to help others
explore similarly-formatted datasets and discover additional insights in
their analyses.</p>
<p>The paper can be found on (paper coming soon) and should be cited as
(citation coming soon).</p>
<div class="section level3">
<h3 id="terminology">Terminology<a class="anchor" aria-label="anchor" href="#terminology"></a>
</h3>
<p>As terms can have different definitions in different sources, in this
script we wish to use specific terms for specific components. We use the
word <em>dataset</em> to describe the input data, task, or problem that
the systems are run on. A <em>row</em> is a single 4-tuple (system,
dataset, metric, score) or a 3-tuple (system, dataset-metric, score). We
call a set of these rows a <em>ML tuple set</em>.</p>
</div>
</div>
<div class="section level2">
<h2 id="analysis-steps-taken-in-this-example">Analysis Steps Taken in This Example<a class="anchor" aria-label="anchor" href="#analysis-steps-taken-in-this-example"></a>
</h2>
<p>In this example, we take the following steps to analyze and extract
insight from our ML Tuple set:</p>
<ol style="list-style-type: decimal">
<li>Obtaining Required ML Tuple Set. We require as input the ML tuple
set to be either a complete set of 4-tuples of (system, dataset, metric,
score) values or a complete set of 3-tuples of (system, dataset-metric,
score).</li>
<li>Specifying Research Questions. Our primary research question is: in
this collection of datasets and metrics, what is the ranking of the
systems?</li>
<li>Producing a Block Plot and Making Initial Observations. We realize
that a Block Plot provides insights to many relevant questions and thus
start with that plot.</li>
<li>Answering the Primary Question. Ranking Systems. We produce three
different rankings and use disagreements as indicators of
uncertainty.</li>
<li>Answering Additional Questions. We analyze for additional insights,
including insights on metric tradeoffs. For those with different
questions, we believe that many of the plots described here and in the
previous strategy will be useful. \end{enumerate}</li>
</ol>
</div>
<div class="section level2">
<h2 id="obtaining-required-ml-tuple-set-for-our-example-analysis">Obtaining Required ML Tuple Set for Our Example Analysis<a class="anchor" aria-label="anchor" href="#obtaining-required-ml-tuple-set-for-our-example-analysis"></a>
</h2>
<p>We provide our own-generated ML tuple set of (system, dataset,
metric, score), which we call System, Dataset, Metric, Score Sample 1
(SDMS_1), or SDMS in this paper.</p>
<p>We provide the in the <code>data/raw/semait_sdms_1.csv</code>. We
generated this ML tuple set ourselves for the purposes of illustrating
different analysis techniques.</p>
<p>This is a (system, dataset, metric, score) ML tuple set that we
construct ourselves. We use 3 baseline models that are publicly
available R packages: Decision trees from RPart, Linear Logistic
Regression from the “glm” package, and polynomial logistic regression
from the “glm” package. We use 3 datasets: the titanic data (OpenML,
Dataset ID 40945), the adult data set (UCI Machine Learning Repository,
Adult Dataset). We use the following 6 metrics: Accuracy (fraction
correct), AUC score, Demographic Parity Ratio (of male vs. female
gender; not all datasets had additional gender values), Precision, and
Recall, and f1 score.</p>
<p>In this script, the Demographic Parity Ratio (dpr) is computed
as:</p>
<p><span class="math display">\[dpr = \min\left(\frac{\text{percentage
males positive class}}{\text{percentage females positive
class}},\frac{\text{percentage females positive class}}{\text{percentage
males positive class}}\right)\]</span>.</p>
<p>As some of the datasets contain additional gender values and some
only contain genders of <code>male</code> and <code>female</code>, for
equal comparison we only consider the demographic parity of male
vs. female desipite the importance of demograpic parity across all
genders.</p>
<p>The scripts to download the other datasets (they are publicly
accessible) and to produce SDMS are in the <code>scripts_data</code>
folder.</p>
<p>Additional example analyses are provided in the paper.</p>
</div>
<div class="section level2">
<h2 id="script-setup">Script Setup<a class="anchor" aria-label="anchor" href="#script-setup"></a>
</h2>
<p>Here is where you specify the path to the data directory to load the
file.</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># If the environment variable is set, this command can be unchanged.</span></span>
<span><span class="co"># Else, replace with the path to the "data" directory</span></span>
<span><span class="va">data_dir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/Sys.getenv.html" class="external-link">Sys.getenv</a></span><span class="op">(</span><span class="st">"MIG_ANALYZER_DATA_DIR"</span><span class="op">)</span></span>
<span><span class="va">sdms_fpath</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/normalizePath.html" class="external-link">normalizePath</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/file.path.html" class="external-link">file.path</a></span><span class="op">(</span><span class="va">data_dir</span>, <span class="st">"raw"</span>, <span class="st">"semait_sdms_1.csv"</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://yihui.org/knitr/" class="external-link">knitr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://ggplot2.tidyverse.org" class="external-link">ggplot2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://stringr.tidyverse.org" class="external-link">stringr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://github.com/hadley/reshape" class="external-link">reshape2</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://hbiostat.org/R/Hmisc/" class="external-link">Hmisc</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="http://had.co.nz/plyr" class="external-link">plyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org" class="external-link">dplyr</a></span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">mizr</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">grid</span><span class="op">)</span></span>
<span><span class="kw"><a href="https://rdrr.io/r/base/library.html" class="external-link">library</a></span><span class="op">(</span><span class="va">gridExtra</span><span class="op">)</span></span>
<span><span class="va">old_theme</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_set_theme.html">mizr_set_theme</a></span><span class="op">(</span>base_size <span class="op">=</span> <span class="fl">18</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb3"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sdms_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html" class="external-link">read.csv</a></span><span class="op">(</span><span class="va">sdms_fpath</span>, stringsAsFactors <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">sdms_df</span><span class="op">$</span><span class="va">dataset_metric</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">dataset</span><span class="op">)</span>,</span>
<span>                                          <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric_dataset</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/factor.html" class="external-link">as.factor</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html" class="external-link">paste</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span><span class="op">)</span>,</span>
<span>                                          <span class="fu"><a href="https://rdrr.io/r/base/character.html" class="external-link">as.character</a></span><span class="op">(</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">dataset</span><span class="op">)</span>, sep <span class="op">=</span> <span class="st">"_"</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">factor_cols</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"metric"</span>, <span class="st">"dataset"</span>, <span class="st">"system"</span><span class="op">)</span></span>
<span><span class="va">response_var</span> <span class="op">&lt;-</span> <span class="st">"score"</span></span></code></pre></div>
</div>
<div class="section level2">
<h2 id="specifying-research-questions">Specifying Research Questions<a class="anchor" aria-label="anchor" href="#specifying-research-questions"></a>
</h2>
<p>Following our work, or primary research question is:</p>
<ul>
<li>
<strong>Primary Research Question.</strong> In this collection of
datasets and metrics, what is the ranking of the systems?</li>
</ul>
<p>This question is a <em>comparative objective</em>, as stated in <a href="https://www.itl.nist.gov/div898/handbook/pri/section3/pri33.htm" class="external-link">Section
5.3.3 of the NIST/SEMATECH e-Handbook of Statistical Methods</a>. The
system is the primary factor. There is additionally, one more follow-up
comparative research question of interest:</p>
<ul>
<li>AQ1 (Additional Question 1). How robust is the ranking of systems
across the different datasets and metrics?</li>
</ul>
<p>There are also sensitivity questions of interest to us, which
include:</p>
<ul>
<li>AQ2. Are certain datasets easier or harder for systems to
solve?</li>
<li>AQ3. Are there particular metrics where systems score higher or
lower?</li>
<li>AQ4. For each system, are there particular datasets or metrics, or
dataset-metric pairs where that system performs better than average or
worse than average?</li>
<li>AQ5. For each system, are there tradeoffs in performance by metrics:
does a system outperform a second system on one metric but under-perform
that same second system on a different metric?</li>
</ul>
<p>We recognize that different researchers will have different research
questions of interest to them. We hope that analyzing these questions on
these datasets</p>
</div>
<div class="section level2">
<h2 id="producing-a-block-plot-and-making-initial-observations">Producing a Block Plot and Making Initial Observations<a class="anchor" aria-label="anchor" href="#producing-a-block-plot-and-making-initial-observations"></a>
</h2>
<p>We start by summarizing with this collection of <a href="https://www.itl.nist.gov/div898/handbook/eda/section3/blockplo.htm" class="external-link">block
plots</a> following the <a href="https://www.itl.nist.gov/div898/handbook/index.htm" class="external-link">NIST/SEMATECH
e-Handbook of Statistical Methods</a>. There is one block plot per
metric, the x-axis (and the block) is the dataset, the y-value is the
score and each system is labelled. Each system is in a different color.
As the system text is also unique, color is a redundant cue. (In order
to accommodate different color-blindness, color is often a redundant cue
that can be seen with some non-color cue).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">metric_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"acc"</span>, <span class="st">"auc"</span>, <span class="st">"dpr"</span>, <span class="st">"f1"</span>, <span class="st">"precision"</span>, <span class="st">"recall"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">accuracy_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span><span class="op">[</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"acc"</span>, <span class="op">]</span></span>
<span><span class="va">accuracy_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_block_plot.html">mizr_block_plot</a></span><span class="op">(</span><span class="va">accuracy_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">accuracy_plot</span> <span class="op">&lt;-</span> <span class="va">accuracy_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Block Plot of Systems vs. Datasets on \nMetric 'acc'"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">auc_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span><span class="op">[</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"auc"</span>, <span class="op">]</span></span>
<span><span class="va">auc_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_block_plot.html">mizr_block_plot</a></span><span class="op">(</span><span class="va">auc_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">auc_plot</span> <span class="op">&lt;-</span> <span class="va">auc_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Block Plot of Systems vs. Datasets on \nMetric 'auc'"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="va">dpr_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span><span class="op">[</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"dpr"</span>, <span class="op">]</span></span>
<span><span class="va">dpr_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_block_plot.html">mizr_block_plot</a></span><span class="op">(</span><span class="va">dpr_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">dpr_plot</span> <span class="op">&lt;-</span> <span class="va">dpr_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Block Plot of Systems vs. Datasets on \nMetric 'dpr'"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">f1_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span><span class="op">[</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"f1"</span>, <span class="op">]</span></span>
<span><span class="va">f1_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_block_plot.html">mizr_block_plot</a></span><span class="op">(</span><span class="va">f1_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">f1_plot</span> <span class="op">&lt;-</span> <span class="va">f1_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Block Plot of Systems vs. Datasets on \nMetric 'f1'"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">precision_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span><span class="op">[</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"precision"</span>, <span class="op">]</span></span>
<span><span class="va">precision_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_block_plot.html">mizr_block_plot</a></span><span class="op">(</span><span class="va">precision_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">precision_plot</span> <span class="op">&lt;-</span> <span class="va">precision_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Block Plot of Systems vs. Datasets on \nMetric 'precision'"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">recall_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span><span class="op">[</span><span class="va">sdms_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"recall"</span>, <span class="op">]</span></span>
<span><span class="va">recall_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_block_plot.html">mizr_block_plot</a></span><span class="op">(</span><span class="va">recall_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/coord_cartesian.html" class="external-link">coord_cartesian</a></span><span class="op">(</span>ylim <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0.0</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">recall_plot</span> <span class="op">&lt;-</span> <span class="va">recall_plot</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/guides.html" class="external-link">guides</a></span><span class="op">(</span>color <span class="op">=</span> <span class="st">"none"</span><span class="op">)</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">xlab</a></span><span class="op">(</span><span class="st">"dataset"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Block Plot of Systems vs. Datasets on \nMetric 'recall'"</span><span class="op">)</span></span>
<span></span>
<span></span>
<span><span class="co"># Now use a grid or a wrap to place all 7 plots on one page</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">accuracy_plot</span>, <span class="va">auc_plot</span>, <span class="va">dpr_plot</span>, <span class="va">f1_plot</span>,</span>
<span>  <span class="va">precision_plot</span>, <span class="va">recall_plot</span>,</span>
<span>  nrow <span class="op">=</span> <span class="fl">2</span></span>
<span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/ten_step_block-1.png" width="2112"></p>
<p>These block plots provide an overview. From examining the plots, we
see</p>
</div>
<div class="section level2">
<h2 id="answering-the-primary-question">Answering the Primary Question<a class="anchor" aria-label="anchor" href="#answering-the-primary-question"></a>
</h2>
<div class="section level3">
<h3 id="first-rank-plot-new-sign-test-comparison-table">First Rank Plot New Sign Test Comparison Table<a class="anchor" aria-label="anchor" href="#first-rank-plot-new-sign-test-comparison-table"></a>
</h3>
<p>A statistics computed in the block plots is a binomial portion (and
p-value) for the number of blocks a system’s value is higher than the
comparitive value for another system. (See Sections <a href="https://www.itl.nist.gov/div898/handbook/eda/section3/blockplo.htm" class="external-link">1.3.3.3</a>
and <a href="https://www.itl.nist.gov/div898/handbook/pri/section5/pri595.htm" class="external-link">5.5.9.5</a>
of the <a href="https://www.itl.nist.gov/div898/handbook/index.htm" class="external-link">NIST/SEMATECH
e-Handbook of Statistical Methods</a> for details.) As there are <span class="math inline">\(3*6=18\)</span> combinations of systems to
compare, we wish to distill all of the binomial comparisons in an easy
to parse plot. Therefore, we prototype a new <strong>sign test
comparison plot</strong>. This plot is a colored table where each cell
is the fraction of times (number of times/total number of comparisons)
the row system’s score is equal to or better than the system in the
column. The (all) column is the row sum that gives the fraction of times
(total number of times/total number of comparisons).</p>
<p>With this plot we can traversing down the rows to get a ranking of
systems in this descending order. This ranking is:</p>
<p>plr, dt, lr</p>
<p>This method of comparitive ranking does not require us to normalize
the metrics. All it requires us is to know which direction is a better
score for each metric.</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">block_df</span> <span class="op">&lt;-</span> <span class="fu">block_compute_df</span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span><span class="op">)</span></span>
<span><span class="va">sign_test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sign_test_compute_df.html">sign_test_compute_df</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brm_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_sign_test_plot.html">mizr_sign_test_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_equal_comparisons <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, p_adj <span class="op">=</span> <span class="st">"bonferroni"</span>,</span>
<span>  tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brm_plot</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/sign_test_plot-1.png" width="1344"></p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">brmn_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_sign_test_plot.html">mizr_sign_test_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_equal_comparisons <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, p_adj <span class="op">=</span> <span class="st">"none"</span>,</span>
<span>  tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brmn_plot</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/sign_test_plot-2.png" width="1344"></p>
<p>We also notice something surprising. The matrix is not always
symmetric or anti-symmetric. For instance, examine the cells (plr, lr)
and (lr, plr). System plr has a score better than or equal to lr 15/18
times, while lr has a better or equal score to plr 4/18 times. This
means that they have the same score <span class="math inline">\((4 + 14
- 18) = 1\)</span> time, plr exceeds lr 14 times, and lr exceeds plr 3
times, and <span class="math inline">\(1 + 14 + 3 = 18\)</span>.</p>
<p>We save the rank order with the proportion comparisons in a table as
a first rank and get the ranking plr &gt; dt &gt; lr</p>
<div class="sourceCode" id="cb7"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">bc_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sign_test_compute_df.html">sign_test_compute_df</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_equal_comparisons <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, p_adj <span class="op">=</span> <span class="st">"bonferroni"</span></span>
<span><span class="op">)</span></span>
<span><span class="va">bc_mar_df</span> <span class="op">&lt;-</span> <span class="va">bc_df</span><span class="op">[</span><span class="va">bc_df</span><span class="op">$</span><span class="va">treatment_2</span> <span class="op">==</span> <span class="st">"(all)"</span>, <span class="op">]</span></span>
<span><span class="va">bc_mar_df</span> <span class="op">&lt;-</span> <span class="va">bc_mar_df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">bc_mar_df</span><span class="op">$</span><span class="va">frac_1_better_or_equal_than_2</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">bc_mar_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"treatment_1"</span>, <span class="st">"frac_1_better_or_equal_than_2"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>      caption <span class="op">=</span> <span class="st">"Block Comparison Ranking"</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Block Comparison Ranking</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">treatment_1</th>
<th align="right">frac_1_better_or_equal_than_2</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">31</td>
<td align="left">plr</td>
<td align="right">0.6667</td>
</tr>
<tr class="even">
<td align="left">21</td>
<td align="left">dt</td>
<td align="right">0.4444</td>
</tr>
<tr class="odd">
<td align="left">11</td>
<td align="left">lr</td>
<td align="right">0.4167</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="second-ranking-main-effects">Second Ranking: Main Effects<a class="anchor" aria-label="anchor" href="#second-ranking-main-effects"></a>
</h3>
<p>We can continue the analysis. We first provide an alternative ranking
via the main effects of each score</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_main_effects_plot.html">mizr_main_effects_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"score"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: `group_by_()` was deprecated in dplyr 0.7.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use `group_by()` instead.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> See vignette('programming') for more help</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">mizr</span> package.</span></span>
<span><span class="co">##   Please report the issue to the authors.</span></span></code></pre>
<pre><code><span><span class="co">## Warning: The `guide` argument in `scale_*()` cannot be `FALSE`. This was deprecated in</span></span>
<span><span class="co">## ggplot2 3.3.4.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use "none" instead.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> The deprecated feature was likely used in the <span style="color: #0000BB;">mizr</span> package.</span></span>
<span><span class="co">##   Please report the issue to the authors.</span></span></code></pre>
<p><img src="semait_analysis_sdms_documented_files/figure-html/main_eff-1.png" width="1344"></p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_main_effects_hsd_plot.html">mizr_main_effects_hsd_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"score"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning in model.matrix.default(mt, mf, contrasts): non-list contrasts argument</span></span>
<span><span class="co">## ignored</span></span></code></pre>
<pre><code><span><span class="co">## Warning in model.matrix.default(mt, mf, contrasts): non-list contrasts argument</span></span>
<span><span class="co">## ignored</span></span></code></pre>
<p><img src="semait_analysis_sdms_documented_files/figure-html/main_eff-2.png" width="1344"></p>
<p>And we now display the ranking of systems in order with their average
score. The ranking is plt &gt; lr &gt; dt</p>
<div class="sourceCode" id="cb14"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">main_eff_df</span> <span class="op">&lt;-</span> <span class="fu">main_effects_compute_df</span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"score"</span><span class="op">)</span></span>
<span><span class="va">main_mod_df</span> <span class="op">&lt;-</span> <span class="va">main_eff_df</span><span class="op">[</span><span class="va">main_eff_df</span><span class="op">$</span><span class="va">variable</span> <span class="op">==</span> <span class="st">"system"</span>, <span class="op">]</span></span>
<span><span class="va">main_mod_df</span> <span class="op">&lt;-</span> <span class="va">main_mod_df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="op">-</span><span class="va">main_mod_df</span><span class="op">$</span><span class="va">score</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">main_mod_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"value"</span>, <span class="st">"score"</span><span class="op">)</span><span class="op">]</span>, caption <span class="op">=</span> <span class="st">"Main Effects Ranking"</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Main Effects Ranking</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">value</th>
<th align="right">score</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">3</td>
<td align="left">plr</td>
<td align="right">0.6527</td>
</tr>
<tr class="even">
<td align="left">2</td>
<td align="left">lr</td>
<td align="right">0.6141</td>
</tr>
<tr class="odd">
<td align="left">1</td>
<td align="left">dt</td>
<td align="right">0.6020</td>
</tr>
</tbody>
</table>
</div>
<div class="section level3">
<h3 id="third-ranking-mean-system-rank-values">Third Ranking: Mean System Rank Values<a class="anchor" aria-label="anchor" href="#third-ranking-mean-system-rank-values"></a>
</h3>
<div class="sourceCode" id="cb15"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">system_rank_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plyr/man/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">metric</span>, <span class="va">score</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">metric</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plyr/man/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">score</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">metric_rank_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plyr/man/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">system</span>, <span class="va">score</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">dataset</span>, <span class="va">system</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plyr/man/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">score</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span>
<span></span>
<span><span class="va">dataset_rank_df</span> <span class="op">&lt;-</span> <span class="va">sdms_df</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plyr/man/arrange.html" class="external-link">arrange</a></span><span class="op">(</span><span class="va">system</span>, <span class="va">metric</span>, <span class="va">score</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://dplyr.tidyverse.org/reference/group_by.html" class="external-link">group_by</a></span><span class="op">(</span><span class="va">system</span>, <span class="va">metric</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/pkg/plyr/man/mutate.html" class="external-link">mutate</a></span><span class="op">(</span>rank <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/rank.html" class="external-link">rank</a></span><span class="op">(</span><span class="op">-</span><span class="va">score</span><span class="op">)</span><span class="op">)</span> <span class="op"><a href="https://magrittr.tidyverse.org/reference/pipe.html" class="external-link">%&gt;%</a></span></span>
<span>  <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html" class="external-link">as.data.frame</a></span><span class="op">(</span><span class="op">)</span></span></code></pre></div>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_tile_table_plot.html">mizr_tile_table_plot</a></span><span class="op">(</span><span class="va">system_rank_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="st">"rank"</span>,</span>
<span>                     use_margins <span class="op">=</span> <span class="cn">TRUE</span>, tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/rank_plot_system-1.png" width="1824"></p>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">dataset_list</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"adult"</span>, <span class="st">"hmda"</span>, <span class="st">"titanic"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">adult_df</span> <span class="op">&lt;-</span> <span class="va">system_rank_df</span><span class="op">[</span><span class="va">system_rank_df</span><span class="op">$</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"adult"</span>, <span class="op">]</span></span>
<span><span class="va">adult_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_tile_table_plot.html">mizr_tile_table_plot</a></span><span class="op">(</span><span class="va">adult_df</span>, <span class="st">"metric"</span>, <span class="st">"system"</span>, <span class="st">"rank"</span>,</span>
<span>                                   use_margins <span class="op">=</span> <span class="cn">TRUE</span>, tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">adult_plot</span> <span class="op">&lt;-</span> <span class="va">adult_plot</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"system Rank for each Metric of \nadult Dataset"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">hmda_df</span> <span class="op">&lt;-</span> <span class="va">system_rank_df</span><span class="op">[</span><span class="va">system_rank_df</span><span class="op">$</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"hmda"</span>, <span class="op">]</span></span>
<span><span class="va">hmda_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_tile_table_plot.html">mizr_tile_table_plot</a></span><span class="op">(</span><span class="va">hmda_df</span>, <span class="st">"metric"</span>, <span class="st">"system"</span>, <span class="st">"rank"</span>,</span>
<span>                                  use_margins <span class="op">=</span> <span class="cn">TRUE</span>, tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">hmda_plot</span> <span class="op">&lt;-</span> <span class="va">hmda_plot</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"system Rank for each Metric of \nhmda Dataset"</span><span class="op">)</span></span>
<span></span>
<span><span class="va">titanic_df</span> <span class="op">&lt;-</span> <span class="va">system_rank_df</span><span class="op">[</span><span class="va">system_rank_df</span><span class="op">$</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"titanic"</span>, <span class="op">]</span></span>
<span><span class="va">titanic_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_tile_table_plot.html">mizr_tile_table_plot</a></span><span class="op">(</span><span class="va">titanic_df</span>, <span class="st">"metric"</span>, <span class="st">"system"</span>, <span class="st">"rank"</span>,</span>
<span>                                     use_margins <span class="op">=</span> <span class="cn">TRUE</span>, tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span><span class="op">)</span></span>
<span><span class="va">titanic_plot</span> <span class="op">&lt;-</span> <span class="va">titanic_plot</span> <span class="op">+</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"system Rank for each Metric of \ntitanic Dataset"</span><span class="op">)</span></span>
<span></span>
<span><span class="co"># Now use a grid or a wrap to place all 7 plots on one page</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/gridExtra/man/arrangeGrob.html" class="external-link">grid.arrange</a></span><span class="op">(</span><span class="va">adult_plot</span>, <span class="va">hmda_plot</span>, <span class="va">titanic_plot</span>, nrow <span class="op">=</span> <span class="fl">1</span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/rank_plot_system-2.png" width="1824"></p>
<div class="sourceCode" id="cb18"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">mrank_mar_df</span> <span class="op">&lt;-</span> <span class="fu">tile_table_compute_df</span><span class="op">(</span><span class="va">system_rank_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>,</span>
<span>                                      <span class="st">"system"</span>, <span class="st">"rank"</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></span>
<span><span class="va">mr_df</span> <span class="op">&lt;-</span> <span class="va">mrank_mar_df</span><span class="op">[</span><span class="va">mrank_mar_df</span><span class="op">$</span><span class="va">metric</span> <span class="op">==</span> <span class="st">"(all)"</span> <span class="op">&amp;</span></span>
<span>                        <span class="va">mrank_mar_df</span><span class="op">$</span><span class="va">dataset</span> <span class="op">==</span> <span class="st">"(all)"</span> <span class="op">&amp;</span> <span class="va">mrank_mar_df</span><span class="op">$</span><span class="va">system</span> <span class="op">!=</span> <span class="st">"(all)"</span>, <span class="op">]</span></span>
<span><span class="va">mr_df</span> <span class="op">&lt;-</span> <span class="va">mr_df</span><span class="op">[</span><span class="fu"><a href="https://rdrr.io/r/base/order.html" class="external-link">order</a></span><span class="op">(</span><span class="va">mr_df</span><span class="op">$</span><span class="va">rank</span><span class="op">)</span>, <span class="op">]</span></span>
<span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html" class="external-link">kable</a></span><span class="op">(</span><span class="va">mr_df</span><span class="op">[</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"rank"</span><span class="op">)</span><span class="op">]</span>,</span>
<span>      caption <span class="op">=</span> <span class="st">"Ranking by Mean Rank on Metrics and Datasets"</span>, digits <span class="op">=</span> <span class="fl">4</span><span class="op">)</span></span></code></pre></div>
<table class="table">
<caption>Ranking by Mean Rank on Metrics and Datasets</caption>
<thead><tr class="header">
<th align="left"></th>
<th align="left">system</th>
<th align="right">rank</th>
</tr></thead>
<tbody>
<tr class="odd">
<td align="left">75</td>
<td align="left">plr</td>
<td align="right">1.69</td>
</tr>
<tr class="even">
<td align="left">73</td>
<td align="left">dt</td>
<td align="right">2.11</td>
</tr>
<tr class="odd">
<td align="left">74</td>
<td align="left">lr</td>
<td align="right">2.19</td>
</tr>
</tbody>
</table>
<p>From the mean ranks, we get the ranking plr &gt; dt &gt; lr</p>
</div>
<div class="section level3">
<h3 id="putting-the-rankings-together">Putting the Rankings Together<a class="anchor" aria-label="anchor" href="#putting-the-rankings-together"></a>
</h3>
<p>If we take all of the rankings, and treat any disagreements among the
three rankings as uncertainties, we get the ranking:</p>
<p>plr &gt; {dt, lr}</p>
<p>As there is uncertainty as to if in this sample system dt or lr has
the highest score.</p>
<p>This ranking addresses the primary research question as well as the
First additional question (AQ1). The specific fractions and the mean
values give information to the variation in the rankings.</p>
</div>
</div>
<div class="section level2">
<h2 id="answering-additional-questions">Answering Additional Questions<a class="anchor" aria-label="anchor" href="#answering-additional-questions"></a>
</h2>
<p>Now we perform additional analysis to answer the additional questions
AQ2-AQ5.</p>
<p>First we follow a similar analysis to rank the metrics</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_tile_table_plot.html">mizr_tile_table_plot</a></span><span class="op">(</span><span class="va">metric_rank_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"system"</span><span class="op">)</span>, <span class="st">"metric"</span>, <span class="st">"rank"</span>,</span>
<span>                     use_margins <span class="op">=</span> <span class="cn">TRUE</span>, tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/rank_plot_metrics-1.png" width="1824"></p>
<div class="sourceCode" id="cb20"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sign_test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sign_test_compute_df.html">sign_test_compute_df</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"metric"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brm_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_sign_test_plot.html">mizr_sign_test_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"dataset"</span><span class="op">)</span>, <span class="st">"metric"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_equal_comparisons <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, p_adj <span class="op">=</span> <span class="st">"bonferroni"</span>,</span>
<span>  tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brm_plot</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/rank_metrics-1.png" width="1344"></p>
<p>Next we follow a similar analysis to rank the datasets</p>
<div class="sourceCode" id="cb21"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">sign_test_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/sign_test_compute_df.html">sign_test_compute_df</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"dataset"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brm_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/mizr_sign_test_plot.html">mizr_sign_test_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"dataset"</span>, <span class="va">response_var</span>,</span>
<span>  higher_is_better <span class="op">=</span> <span class="cn">TRUE</span>, use_margins <span class="op">=</span> <span class="cn">TRUE</span>,</span>
<span>  include_equal_comparisons <span class="op">=</span> <span class="cn">TRUE</span>, alpha <span class="op">=</span> <span class="fl">0.05</span>, p_adj <span class="op">=</span> <span class="st">"bonferroni"</span>,</span>
<span>  tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span></span>
<span><span class="op">)</span></span>
<span><span class="va">brm_plot</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/rank_datasets-1.png" width="1344"></p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_tile_table_plot.html">mizr_tile_table_plot</a></span><span class="op">(</span><span class="va">dataset_rank_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"system"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"dataset"</span>, <span class="st">"rank"</span>,</span>
<span>                     use_margins <span class="op">=</span> <span class="cn">TRUE</span>, tile_text_size <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/element.html" class="external-link">rel</a></span><span class="op">(</span><span class="fl">3.6</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/rank_plot_datasets-1.png" width="1824"></p>
<p>Now we perform Interaction Comparison Plots on the factor system</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_interact_compare_plot.html">mizr_interact_compare_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"dataset"</span>, <span class="st">"metric"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="st">"score"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">16</span>, <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/interactions-1.png" width="1344"></p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="fu"><a href="../reference/mizr_interact_compare_plot.html">mizr_interact_compare_plot</a></span><span class="op">(</span><span class="va">sdms_df</span>, <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="st">"metric_dataset"</span><span class="op">)</span>, <span class="st">"system"</span>, <span class="st">"score"</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_manual.html" class="external-link">scale_shape_manual</a></span><span class="op">(</span>values <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span>, <span class="fl">16</span>, <span class="fl">17</span>, <span class="fl">18</span>, <span class="fl">19</span>, <span class="fl">3</span>, <span class="fl">4</span>, <span class="fl">5</span><span class="op">)</span><span class="op">)</span></span></code></pre></div>
<p><img src="semait_analysis_sdms_documented_files/figure-html/interactions-2.png" width="1344"></p>
<p>Here is the Histogram we plot as a check on the data</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="co"># Implement a double histogram</span></span>
<span><span class="va">basic_hist_plot</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/ggplot.html" class="external-link">ggplot</a></span><span class="op">(</span>data <span class="op">=</span> <span class="va">sdms_df</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">score</span>, y <span class="op">=</span> <span class="va">..count..</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"#DDDDDD"</span>,</span>
<span>    binwidth <span class="op">=</span> <span class="fl">0.1</span>, stat <span class="op">=</span> <span class="st">"bin"</span>, boundary <span class="op">=</span> <span class="fl">0</span>, closed <span class="op">=</span> <span class="st">"left"</span>, pad <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_text.html" class="external-link">geom_text</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">score</span>, y <span class="op">=</span> <span class="va">..count..</span>, label <span class="op">=</span> <span class="va">..count..</span><span class="op">)</span>,</span>
<span>    vjust <span class="op">=</span> <span class="op">-</span><span class="fl">0.3</span>, binwidth <span class="op">=</span> <span class="fl">0.1</span>, stat <span class="op">=</span> <span class="st">"bin"</span>, boundary <span class="op">=</span> <span class="fl">0</span>, closed <span class="op">=</span> <span class="st">"left"</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/geom_histogram.html" class="external-link">geom_histogram</a></span><span class="op">(</span><span class="fu"><a href="https://ggplot2.tidyverse.org/reference/aes.html" class="external-link">aes</a></span><span class="op">(</span>x <span class="op">=</span> <span class="va">score</span>, y <span class="op">=</span> <span class="va">..count..</span><span class="op">)</span>,</span>
<span>    color <span class="op">=</span> <span class="st">"black"</span>, fill <span class="op">=</span> <span class="st">"#FFFFFF"</span>,</span>
<span>    binwidth <span class="op">=</span> <span class="fl">0.01</span>, stat <span class="op">=</span> <span class="st">"bin"</span>, boundary <span class="op">=</span> <span class="fl">0</span>, closed <span class="op">=</span> <span class="st">"left"</span>, pad <span class="op">=</span> <span class="cn">TRUE</span></span>
<span>  <span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="co"># geom_text(aes(x = score, y = ..count.., label = ..count..),</span></span>
<span>  <span class="co">#  vjust = -0.3, binwidth = 0.01, stat="bin", boundary=0, closed="left") +</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_x_continuous</a></span><span class="op">(</span>breaks <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0.1</span>, <span class="fl">0.2</span>, <span class="fl">0.3</span>, <span class="fl">0.4</span>, <span class="fl">0.5</span>, <span class="fl">0.6</span>, <span class="fl">0.7</span>, <span class="fl">0.8</span>, <span class="fl">0.9</span>, <span class="fl">1.0</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/scale_continuous.html" class="external-link">scale_y_continuous</a></span><span class="op">(</span>expand <span class="op">=</span> <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/expansion.html" class="external-link">expansion</a></span><span class="op">(</span>add <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html" class="external-link">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">10</span><span class="op">)</span><span class="op">)</span><span class="op">)</span> <span class="op">+</span></span>
<span>  <span class="fu"><a href="https://ggplot2.tidyverse.org/reference/labs.html" class="external-link">ggtitle</a></span><span class="op">(</span><span class="st">"Double Histogram of Counts of Score Values"</span><span class="op">)</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">pad</span></span></span>
<span><span class="co">## Duplicated aesthetics after name standardisation: <span style="color: #00BB00;">pad</span></span></span></code></pre>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span><span class="va">basic_hist_plot</span></span></code></pre></div>
<pre><code><span><span class="co">## Warning: The dot-dot notation (`..count..`) was deprecated in ggplot2 3.4.0.</span></span>
<span><span class="co">## <span style="color: #00BBBB;">ℹ</span> Please use `after_stat(count)` instead.</span></span></code></pre>
<p><img src="semait_analysis_sdms_documented_files/figure-html/histogram-1.png" width="1344"></p>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p></p>
<p>Developed by Peter C. Fontana.</p>
</div>

<div class="pkgdown">
  <p></p>
<p>Site built with <a href="https://pkgdown.r-lib.org/" class="external-link">pkgdown</a> 2.0.7.</p>
</div>

      </footer>
</div>

  


  

  </body>
</html>
